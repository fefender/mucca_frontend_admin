{"ast":null,"code":"import _defineProperty from \"/home/fefe/Develop/mucca-project/mucca_frontend_admin/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/fefe/Develop/mucca-project/mucca_frontend_admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/fefe/Develop/mucca-project/mucca_frontend_admin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/fefe/Develop/mucca-project/mucca_frontend_admin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/fefe/Develop/mucca-project/mucca_frontend_admin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/fefe/Develop/mucca-project/mucca_frontend_admin/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/fefe/Develop/mucca-project/mucca_frontend_admin/src/Components/Sections/AddService.jsx\";\nimport React, { Component } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport Api from \"../../api\";\nimport { Header, Icon, Container, Button, Modal, Label, Accordion, Grid, Segment, Transition, Form, Radio, Card } from \"semantic-ui-react\";\nvar api = new Api();\nvar cookies = new Cookies();\nvar options = [{\n  key: \"string\",\n  text: \"string\",\n  value: \"string\"\n}, {\n  key: \"int\",\n  text: \"int\",\n  value: \"int\"\n}, {\n  key: \"boolean\",\n  text: \"boolean\",\n  value: \"boolean\"\n}];\n\nvar AddService =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddService, _Component);\n\n  function AddService() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddService);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddService)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      active0: true,\n      duration: 200,\n      count: 0,\n      sName: \"\",\n      sOwner: \"\",\n      pName: \"\",\n      pType: \"\",\n      value: \"3\",\n      valueOw: \"3\",\n      pRequired: true,\n      pUnicIndx: false,\n      obj: {},\n      userEnv: cookies.get(\"userEnv\"),\n      modalOpen: false\n    };\n\n    _this.handleClick0 = function (e) {\n      _this.setState({\n        active0: !_this.state.active0\n      });\n    };\n\n    _this.handleOpen = function () {\n      return _this.setState({\n        modalOpen: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        modalOpen: false\n      });\n\n      window.location.reload();\n    };\n\n    _this.typeHandler = function (event, _ref) {\n      var value = _ref.value;\n\n      _this.setState({\n        pType: value\n      });\n    };\n\n    _this.handleChange = function (e, _ref2) {\n      var name = _ref2.name,\n          value = _ref2.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleIndx = function (e, _ref3) {\n      var value = _ref3.value;\n\n      _this.setState({\n        value: value\n      });\n\n      if (value === \"1\") {\n        _this.setState({\n          pUnicIndx: true\n        });\n      } else {\n        _this.setState({\n          pUnicIndx: false\n        });\n      }\n    };\n\n    _this.handleOwn = function (e, _ref4) {\n      var value = _ref4.value;\n\n      _this.setState({\n        valueOw: value,\n        sOwner: value\n      });\n    };\n\n    _this.propertyObj = function () {\n      var obj = {\n        required: [],\n        modelname: \"\",\n        properties: {},\n        uniqueindex: []\n      };\n\n      _this.setState({\n        obj: obj\n      });\n    };\n\n    _this.addProperty = function (e) {\n      var prev = _this.state.obj;\n      var sName = _this.state.sName;\n      var pName = _this.state.pName;\n      var prevReq = prev.required;\n      var prevProp = prev.properties;\n      var prevIndx = prev.uniqueindex; // if (this.state.pRequired) {\n\n      prevReq.push(_this.state.pName); // }\n\n      if (_this.state.pUnicIndx) {\n        prevIndx.push(_this.state.pName);\n      }\n\n      if (_this.state.pName && _this.state.pType) {\n        var uno = {\n          bsonType: _this.state.pType,\n          description: pName\n        };\n\n        var prp = _defineProperty({}, pName, uno);\n\n        Object.assign(prevProp, prp);\n      }\n\n      var newObj = {\n        required: prevReq,\n        modelname: sName,\n        properties: prevProp,\n        uniqueindex: prevIndx\n      };\n\n      _this.setState({\n        obj: newObj,\n        pName: \"\",\n        pType: \"\",\n        value: \"3\",\n        pRequired: true,\n        pUnicIndx: false,\n        count: _this.state.count + 1\n      });\n    };\n\n    _this.removeProperty = function (event, _ref5) {\n      var value = _ref5.value;\n      console.log(\"!!!\", value);\n      console.log(_this.state.obj);\n      var obj = _this.state.obj;\n      var newObj = {};\n      var newReq = \"\";\n      var newUniq = \"\";\n      var newPropr = \"\";\n      Object.keys(obj).filter(function (key) {\n        return key !== value;\n      }).reduce(function (result, current) {\n        result[current] = obj[current];\n        return result;\n      }, {});\n      console.log(\"**Afterkeys**\", obj);\n    };\n\n    _this.checkArray = function (val) {\n      for (var x in _this.state.obj.uniqueindex) {\n        if (val === _this.state.obj.uniqueindex[x]) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _this.generateProp = function () {\n      var content = [];\n      var obj = _this.state.obj;\n      var name = \"\";\n      var type = \"\";\n      var required = false;\n      var unicIndx = false;\n      var count = 0;\n      console.log(\"***\", obj.properties);\n\n      for (var x in obj.properties) {\n        unicIndx = _this.checkArray(obj.properties[x].description);\n        var form = React.createElement(Container, {\n          fluid: true,\n          color: \"red\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(Button, {\n          floated: \"right\",\n          size: \"mini\",\n          compact: true,\n          inverted: true,\n          color: \"red\",\n          circular: true,\n          icon: \"remove\",\n          className: \"removeIcon\",\n          onClick: _this.removeProperty,\n          value: obj.properties[x].description,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }), React.createElement(Header, {\n          as: \"h4\",\n          color: \"red\",\n          className: \"servTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"folder open\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }), x), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, \" \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, \"Name: \"), obj.properties[x].description), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, \" \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, \"Type: \"), obj.properties[x].bsonType), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, \" \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, \"Unique Index: \"), unicIndx ? \"Yes\" : \"No\"));\n        content.push(form);\n        count++;\n      }\n\n      return content.map(function (value, ind) {\n        return React.createElement(Card, {\n          fluid: true,\n          key: ind,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, value);\n      });\n    };\n\n    _this.submitModel = function () {\n      // let env = Promise.resolve(cookies.get(\"userEnv\")).then(\n      api.create(_this.state.userEnv, \"model\", _this.state.sName, _this.state.obj, _this.createResponse); // );\n    };\n\n    _this.createResponse = function (res) {\n      if (res && res.status === 201) {\n        console.log(res.status);\n\n        _this.updateConfig();\n      }\n    };\n\n    _this.updateConfig = function () {\n      var config = {\n        datamodel: true,\n        ownerfilter: _this.state.sOwner,\n        modelname: _this.state.sName\n      };\n      api.create(_this.state.userEnv, \"config\", \"mpkg\", config, _this.configResponse);\n    };\n\n    _this.configResponse = function (res) {\n      if (res && res.status === 201) {\n        console.log(res.status);\n\n        _this.setState({\n          modalOpen: true\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(AddService, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(Accordion, {\n        exclusive: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(Accordion.Title, {\n        onClick: this.handleClick0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h3\",\n        color: \"green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"Add New Service\", React.createElement(Icon, {\n        name: \"angle down\",\n        flipped: this.state.active0 ? \"vertically\" : \"horizontally\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }))), React.createElement(Transition, {\n        animation: \"slide down\",\n        duration: this.state.duration,\n        visible: this.state.active0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Accordion.Content, {\n        active: this.state.active0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        color: \"green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \" Service Info:\"), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        widths: \"equal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        label: \"Service name\",\n        placeholder: \"Service name\",\n        name: \"sName\",\n        onChange: this.handleChange // required\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        inline: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Service Visibility:\"), React.createElement(Form.Field, {\n        control: Radio,\n        label: \"Owner Only\",\n        value: \"1\",\n        checked: this.state.valueOw === \"1\",\n        onChange: this.handleOwn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        control: Radio,\n        label: \"Public\",\n        value: \"0\",\n        checked: this.state.valueOw === \"0\",\n        onChange: this.handleOwn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      })), React.createElement(Header, {\n        as: \"h4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \" Add Properties:\"), React.createElement(Segment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        widths: \"equal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        label: \"Property Name\",\n        placeholder: \"Property name\",\n        name: \"pName\",\n        value: this.state.pName,\n        onChange: this.handleChange // required\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }), React.createElement(Form.Select, {\n        fluid: true,\n        label: \"Property type\",\n        options: options,\n        value: this.state.pType,\n        placeholder: \"Property type\",\n        onChange: this.typeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        inline: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, \"Unique Index\"), React.createElement(Form.Field, {\n        control: Radio,\n        label: \"Yes\",\n        value: \"1\",\n        checked: this.state.value === \"1\",\n        onChange: this.handleIndx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        control: Radio,\n        label: \"No\",\n        value: \"2\",\n        checked: this.state.value === \"2\",\n        onChange: this.handleIndx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      })), React.createElement(Button, {\n        type: \"submit\",\n        basic: true,\n        color: \"violet\" // compact\n        ,\n        onClick: this.addProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, \"Add\")), React.createElement(Header, {\n        as: \"h4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, \" Properties Added:\"), React.createElement(Segment, {\n        color: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(Card.Group, {\n        itemsPerRow: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, this.generateProp(), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }), this.state.count > 0 && React.createElement(Button, {\n        type: \"submit\",\n        basic: true,\n        fluid: true,\n        color: \"violet\" // compact\n        ,\n        onClick: this.submitModel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, \"Create MicroService\"))))))), React.createElement(Modal // trigger={<Button onClick={this.handleOpen}>Show Modal</Button>}\n      , {\n        open: this.state.modalOpen,\n        onClose: this.handleClose,\n        basic: true,\n        size: \"small\",\n        dimmer: \"inverted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(Header, {\n        icon: \"browser\",\n        content: \"Great!\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"Your new microservice has been created.\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, \" \", \"If you're done click on \\\"build\\\" to compose your application, if not continue adding more microservices\")), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"green\",\n        onClick: this.handleClose,\n        inverted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }), \" Got it\"))));\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log(\"will mount\");\n      this.propertyObj();\n    }\n  }]);\n\n  return AddService;\n}(Component);\n\nexport default AddService;","map":{"version":3,"sources":["/home/fefe/Develop/mucca-project/mucca_frontend_admin/src/Components/Sections/AddService.jsx"],"names":["React","Component","Cookies","Api","Header","Icon","Container","Button","Modal","Label","Accordion","Grid","Segment","Transition","Form","Radio","Card","api","cookies","options","key","text","value","AddService","state","active0","duration","count","sName","sOwner","pName","pType","valueOw","pRequired","pUnicIndx","obj","userEnv","get","modalOpen","handleClick0","e","setState","handleOpen","handleClose","window","location","reload","typeHandler","event","handleChange","name","handleIndx","handleOwn","propertyObj","required","modelname","properties","uniqueindex","addProperty","prev","prevReq","prevProp","prevIndx","push","uno","bsonType","description","prp","Object","assign","newObj","removeProperty","console","log","newReq","newUniq","newPropr","keys","filter","reduce","result","current","checkArray","val","x","generateProp","content","type","unicIndx","form","map","ind","submitModel","create","createResponse","res","status","updateConfig","config","datamodel","ownerfilter","configResponse"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport Api from \"../../api\";\nimport {\n  Header,\n  Icon,\n  Container,\n  Button,\n  Modal,\n  Label,\n  Accordion,\n  Grid,\n  Segment,\n  Transition,\n  Form,\n  Radio,\n  Card\n} from \"semantic-ui-react\";\n\nconst api = new Api();\nconst cookies = new Cookies();\n\nconst options = [\n  { key: \"string\", text: \"string\", value: \"string\" },\n  { key: \"int\", text: \"int\", value: \"int\" },\n  { key: \"boolean\", text: \"boolean\", value: \"boolean\" }\n];\n\nclass AddService extends Component {\n  state = {\n    active0: true,\n    duration: 200,\n    count: 0,\n    sName: \"\",\n    sOwner: \"\",\n    pName: \"\",\n    pType: \"\",\n    value: \"3\",\n    valueOw: \"3\",\n    pRequired: true,\n    pUnicIndx: false,\n    obj: {},\n    userEnv: cookies.get(\"userEnv\"),\n    modalOpen: false\n  };\n\n  //Visibility Handlers\n  handleClick0 = e => {\n    this.setState({\n      active0: !this.state.active0\n    });\n  };\n  handleOpen = () => this.setState({ modalOpen: true });\n\n  handleClose = () => {\n    this.setState({ modalOpen: false });\n    window.location.reload();\n  };\n\n  //inputs hanlders\n  typeHandler = (event, { value }) => {\n    this.setState({ pType: value });\n  };\n\n  handleChange = (e, { name, value }) => {\n    this.setState({ [name]: value });\n  };\n\n  handleIndx = (e, { value }) => {\n    this.setState({ value: value });\n    if (value === \"1\") {\n      this.setState({ pUnicIndx: true });\n    } else {\n      this.setState({ pUnicIndx: false });\n    }\n  };\n\n  handleOwn = (e, { value }) => {\n    this.setState({ valueOw: value, sOwner: value });\n  };\n\n  //Sets model\n  propertyObj = () => {\n    let obj = {\n      required: [],\n      modelname: \"\",\n      properties: {},\n      uniqueindex: []\n    };\n    this.setState({ obj: obj });\n  };\n\n  //Adds new property to model\n  addProperty = e => {\n    let prev = this.state.obj;\n    let sName = this.state.sName;\n    let pName = this.state.pName;\n    let prevReq = prev.required;\n    let prevProp = prev.properties;\n    let prevIndx = prev.uniqueindex;\n    // if (this.state.pRequired) {\n    prevReq.push(this.state.pName);\n    // }\n    if (this.state.pUnicIndx) {\n      prevIndx.push(this.state.pName);\n    }\n    if (this.state.pName && this.state.pType) {\n      let uno = {\n        bsonType: this.state.pType,\n        description: pName\n      };\n      let prp = { [pName]: uno };\n      Object.assign(prevProp, prp);\n    }\n    let newObj = {\n      required: prevReq,\n      modelname: sName,\n      properties: prevProp,\n      uniqueindex: prevIndx\n    };\n    this.setState({\n      obj: newObj,\n      pName: \"\",\n      pType: \"\",\n      value: \"3\",\n      pRequired: true,\n      pUnicIndx: false,\n      count: this.state.count + 1\n    });\n  };\n\n  //Removes Property from model\n  removeProperty = (event, { value }) => {\n    console.log(\"!!!\", value);\n    console.log(this.state.obj);\n    let obj = this.state.obj;\n    let newObj = {};\n    let newReq = \"\";\n    let newUniq = \"\";\n    let newPropr = \"\";\n    Object.keys(obj)\n      .filter(key => key !== value)\n      .reduce((result, current) => {\n        result[current] = obj[current];\n        return result;\n      }, {});\n    console.log(\"**Afterkeys**\", obj);\n  };\n\n  //Add new model in view\n  checkArray = val => {\n    for (let x in this.state.obj.uniqueindex) {\n      if (val === this.state.obj.uniqueindex[x]) {\n        return true;\n      }\n    }\n    return false;\n  };\n  generateProp = () => {\n    const content = [];\n    let obj = this.state.obj;\n    let name = \"\";\n    let type = \"\";\n    let required = false;\n    let unicIndx = false;\n    let count = 0;\n    console.log(\"***\", obj.properties);\n    for (let x in obj.properties) {\n      unicIndx = this.checkArray(obj.properties[x].description);\n\n      let form = (\n        <Container fluid color=\"red\">\n          {/* <br /> */}\n          <Button\n            floated=\"right\"\n            size=\"mini\"\n            compact\n            inverted\n            color=\"red\"\n            circular\n            icon=\"remove\"\n            className=\"removeIcon\"\n            onClick={this.removeProperty}\n            value={obj.properties[x].description}\n          />\n          <Header as=\"h4\" color=\"red\" className=\"servTitle\">\n            <Icon name=\"folder open\" />\n            {x}\n          </Header>\n          <p>\n            {\" \"}\n            <strong>Name: </strong>\n            {obj.properties[x].description}\n          </p>\n          <p>\n            {\" \"}\n            <strong>Type: </strong>\n            {obj.properties[x].bsonType}\n          </p>\n          <p>\n            {\" \"}\n            <strong>Unique Index: </strong>\n            {unicIndx ? \"Yes\" : \"No\"}\n          </p>\n        </Container>\n      );\n      content.push(form);\n      count++;\n    }\n    return content.map((value, ind) => (\n      <Card fluid key={ind}>\n        {value}\n      </Card>\n    ));\n  };\n\n  //Send new model\n  submitModel = () => {\n    // let env = Promise.resolve(cookies.get(\"userEnv\")).then(\n    api.create(\n      this.state.userEnv,\n      \"model\",\n      this.state.sName,\n      this.state.obj,\n      this.createResponse\n    );\n    // );\n  };\n\n  createResponse = res => {\n    if (res && res.status === 201) {\n      console.log(res.status);\n      this.updateConfig();\n    }\n  };\n  //Send new config\n  updateConfig = () => {\n    let config = {\n      datamodel: true,\n      ownerfilter: this.state.sOwner,\n      modelname: this.state.sName\n    };\n    api.create(\n      this.state.userEnv,\n      \"config\",\n      \"mpkg\",\n      config,\n      this.configResponse\n    );\n  };\n\n  configResponse = res => {\n    if (res && res.status === 201) {\n      console.log(res.status);\n      this.setState({ modalOpen: true });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Accordion exclusive={false}>\n          <Accordion.Title onClick={this.handleClick0}>\n            <Header as=\"h3\" color=\"green\">\n              Add New Service\n              <Icon\n                name=\"angle down\"\n                flipped={this.state.active0 ? \"vertically\" : \"horizontally\"}\n              />\n            </Header>\n          </Accordion.Title>\n          <Transition\n            animation=\"slide down\"\n            duration={this.state.duration}\n            visible={this.state.active0}\n          >\n            <Accordion.Content active={this.state.active0}>\n              <Segment color=\"green\">\n                <Header as=\"h4\"> Service Info:</Header>\n                <Form>\n                  <Form.Group widths=\"equal\">\n                    <Form.Input\n                      label=\"Service name\"\n                      placeholder=\"Service name\"\n                      name=\"sName\"\n                      onChange={this.handleChange}\n                      // required\n                    />\n                  </Form.Group>\n                  <Form.Group inline>\n                    <label>Service Visibility:</label>\n                    <Form.Field\n                      control={Radio}\n                      label=\"Owner Only\"\n                      value=\"1\"\n                      checked={this.state.valueOw === \"1\"}\n                      onChange={this.handleOwn}\n                    />\n                    <Form.Field\n                      control={Radio}\n                      label=\"Public\"\n                      value=\"0\"\n                      checked={this.state.valueOw === \"0\"}\n                      onChange={this.handleOwn}\n                    />\n                  </Form.Group>\n                  <Header as=\"h4\"> Add Properties:</Header>\n                  <Segment>\n                    <Form.Group widths=\"equal\">\n                      <Form.Input\n                        label=\"Property Name\"\n                        placeholder=\"Property name\"\n                        name=\"pName\"\n                        value={this.state.pName}\n                        onChange={this.handleChange}\n                        // required\n                      />\n                      <Form.Select\n                        fluid\n                        label=\"Property type\"\n                        options={options}\n                        value={this.state.pType}\n                        placeholder=\"Property type\"\n                        onChange={this.typeHandler}\n                      />\n                    </Form.Group>\n                    <Form.Group inline>\n                      <label>Unique Index</label>\n                      <Form.Field\n                        control={Radio}\n                        label=\"Yes\"\n                        value=\"1\"\n                        checked={this.state.value === \"1\"}\n                        onChange={this.handleIndx}\n                      />\n                      <Form.Field\n                        control={Radio}\n                        label=\"No\"\n                        value=\"2\"\n                        checked={this.state.value === \"2\"}\n                        onChange={this.handleIndx}\n                      />\n                    </Form.Group>\n                    <Button\n                      type=\"submit\"\n                      basic\n                      color=\"violet\"\n                      // compact\n                      onClick={this.addProperty}\n                    >\n                      Add\n                    </Button>\n                  </Segment>\n                  <Header as=\"h4\"> Properties Added:</Header>\n                  <Segment color=\"red\">\n                    <Card.Group itemsPerRow={3}>\n                      {this.generateProp()}\n                      <br />\n                    </Card.Group>\n                    <br />\n                    {this.state.count > 0 && (\n                      <Button\n                        type=\"submit\"\n                        basic\n                        fluid\n                        color=\"violet\"\n                        // compact\n                        onClick={this.submitModel}\n                      >\n                        Create MicroService\n                      </Button>\n                    )}\n                  </Segment>\n                </Form>\n              </Segment>\n            </Accordion.Content>\n          </Transition>\n        </Accordion>\n        <Modal\n          // trigger={<Button onClick={this.handleOpen}>Show Modal</Button>}\n          open={this.state.modalOpen}\n          onClose={this.handleClose}\n          basic\n          size=\"small\"\n          dimmer=\"inverted\"\n        >\n          <Header icon=\"browser\" content=\"Great!\" />\n          <Modal.Content>\n            <h3>Your new microservice has been created.</h3>\n            <h3>\n              {\" \"}\n              If you're done click on \"build\" to compose your application, if\n              not continue adding more microservices\n            </h3>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color=\"green\" onClick={this.handleClose} inverted>\n              <Icon name=\"checkmark\" /> Got it\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </div>\n    );\n  }\n  componentWillMount() {\n    console.log(\"will mount\");\n    this.propertyObj();\n  }\n}\n\nexport default AddService;\n"]},"metadata":{},"sourceType":"module"}